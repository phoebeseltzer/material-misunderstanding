<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plastic – The Synthetic Solution</title>
  <link href="https://fonts.googleapis.com/css2?family=Domine&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Domine', serif;
      background-color: #0f1111;
      color: #e6e6e6;
      scroll-behavior: smooth;
      overflow-x: hidden;
    }

    a.back-button {
      position: fixed;
      top: 2%;
      left: 3%;
      text-decoration: none;
      color: #aaa;
      font-size: 0.9rem;
      border: 1px solid #888;
      padding: 0.4rem 1rem;
      background: transparent;
      z-index: 10;
    }

    a.back-button:hover {
      color: #fff;
      border-color: #fff;
    }

    .video-block {
      position: relative;
      width: 100%;
      height: 85vh;
      background: #111;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    video {
      position: absolute;
      top: 0;
      left: 0;
      min-width: 100%;
      min-height: 100%;
      object-fit: cover;
      opacity: 0.25;
    }

    .chemical-label {
      position: absolute;
      top: 3%;
      right: 3%;
      font-family: monospace;
      font-size: 1.2rem;
      color: #8feaff;
      background: rgba(255, 255, 255, 0.04);
      padding: 0.4rem 0.6rem;
      border-radius: 5px;
      text-shadow: 0 0 2px #00f0ff55;
    }

    .hud-container {
      position: absolute;
      bottom: 5%;
      left: 5%;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      backdrop-filter: blur(6px);
    }

    .hud-panel {
      background: rgba(20, 30, 40, 0.4);
      padding: 0.8rem;
      border-radius: 6px;
      color: #8feaff;
      font-family: monospace;
      text-shadow: 0 0 2px #00f0ff33;
    }

    .hud-title {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #ffffffaa;
    }

    .hud-metric {
      font-size: 1.1rem;
      margin: 0.4rem 0;
    }

    .unit {
      font-size: 0.7rem;
      opacity: 0.8;
    }

    .hud-bar {
      width: 100%;
      height: 6px;
      background: rgba(255,255,255,0.1);
      border-radius: 3px;
      overflow: hidden;
    }

    .hud-fill {
      height: 100%;
      width: 0%;
      background: #00faff;
      transition: width 2s ease-out;
    }

    #degradation-chart {
      width: 100%;
      max-width: 900px;
      margin: 8vh auto 2rem;
    }

    .essay {
      max-width: 720px;
      margin: 0 auto 10vh;
      padding: 0 1rem;
      font-size: 1.2rem;
      line-height: 1.8;
      color: #cccccc;
    }
  </style>
</head>
<body>

<a href="map.html" class="back-button">&larr; Back</a>

<section class="video-block" id="video-block">
  <video autoplay muted loop playsinline id="cyanotypeVideo">
    <source src="videos/videoplayback.mp4" type="video/mp4" />
  </video>

  <div class="chemical-label">(C₂H₄)<sub>n</sub></div>
    <div class="hud-panel">
      <div class="hud-title">AVG USE TIME</div>
      <div class="hud-metric">~<span id="avg-lifetime">0.5</span><span class="unit"> yrs</span></div>
    </div>
    <div class="hud-panel">
      <div class="hud-title">EST. DEGRADATION TIME</div>
      <div class="hud-metric">~<span id="degrade-time">400</span><span class="unit"> yrs</span></div>
    </div>
  <div class="hud-container">
    <div class="hud-panel">
      <div class="hud-title">TOTAL PLASTIC PRODUCED</div>
      <div class="hud-metric"><span id="plastic-count">0.0</span><span class="unit"> Bt</span></div>
      <div class="hud-bar"><div id="bar-plastic" class="hud-fill"></div></div>
    </div>
    <div class="hud-panel">
      <div class="hud-title">PLASTIC WASTE GENERATED /yr</div>
      <div class="hud-metric"><span id="waste-count">0</span><span class="unit"> Mt</span></div>
      <div class="hud-bar"><div id="bar-waste" class="hud-fill"></div></div>
    </div>

  </div>
</section>

<section style="padding: 4rem 2vw; max-width: 900px; margin: auto;">
  <input type="range" id="yearSlider" min="1950" max="2025" value="2025" style="width: 100%; margin-bottom: 1rem;">
  <canvas id="degradation-chart"></canvas>
  <div id="year-caption" style="margin-top: 2rem; font-size: 1.1rem; line-height: 1.7;">
    In 2025, cumulative plastic production is projected to exceed <b>8.3 billion tons</b>, while only a fraction has degraded.
  </div>
</section>

<section class="essay">
  <p>Plastic was invented to imitate nature. Now we imitate nature to dismantle plastic.<br><br>
  Originally created as a substitute for ivory, coral, shell — the form but not the ecology — plastic became our most durable pollutant. It simulates flexibility but resists decay. Over time, it replaced natural cycles with synthetic stasis. Today, we turn to enzymes and microbes, hoping they will undo what we once called innovation.</p>
</section>

<script>
  const years = Array.from({length: 2025 - 1950 + 1}, (_, i) => 1950 + i);
  const production = [], cumulative = [], degraded = [];
  let totalProd = 0;

  years.forEach((year, i) => {
    let yearly = year <= 2017 ? (year - 1949) * 0.1 : 0.4;
    totalProd += yearly;
    production.push(+yearly.toFixed(2));
    cumulative.push(+totalProd.toFixed(2));
    let decay = i > 10 ? production.slice(0, i - 10).reduce((a, b) => a + b * 0.001, 0) : 0;
    degraded.push(+decay.toFixed(2));
  });

  let chart;
  function renderChart() {
    const ctx = document.getElementById('degradation-chart').getContext('2d');
    chart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: years,
        datasets: [
          { label: 'Cumulative Plastic Produced (Bt)', data: cumulative, borderColor: '#00f0ff', tension: 0.25 },
          { label: 'Estimated Degraded Plastic (Bt)', data: degraded, borderColor: '#ff568f', tension: 0.25 }
        ]
      },
      options: {
        responsive: true,
        interaction: { intersect: false, mode: 'index' },
        scales: { y: { beginAtZero: true, title: { display: true, text: 'Billion Tons' } } },
        plugins: { legend: { labels: { color: '#e6e6e6' } } }
      }
    });
  }

  document.getElementById('yearSlider').addEventListener('input', (e) => {
    const year = +e.target.value;
    const i = years.indexOf(year);
    const prod = cumulative[i];
    const waste = year >= 2000 ? 350 : 100 + (year - 1950) * 5;

    document.getElementById('plastic-count').innerText = prod.toFixed(1);
    document.getElementById('waste-count').innerText = Math.round(waste);
    document.getElementById('bar-plastic').style.width = (prod / 8.3) * 100 + '%';
    document.getElementById('bar-waste').style.width = (waste / 400) * 100 + '%';
    document.getElementById('year-caption').innerHTML = `
      In <b>${year}</b>, cumulative plastic production was <b>${prod.toFixed(1)} billion tons</b>. Annual plastic waste was approximately <b>${Math.round(waste)} million tons</b>. Most of this plastic still exists today.`;

    if (chart) {
      chart.tooltip.setActiveElements([{datasetIndex: 0, index: i}], {x: 0, y: 0});
      chart.setActiveElements([{datasetIndex: 0, index: i}]);
      chart.update();
    }
  });

  renderChart();
</script>

</body>
</html>
